h1. Quick installation guide on CentOS 7 with MariaDB

p. _Please note that support for MySQL/MariaDB is currently in Beta status._

h3. Install at first the EPEL repository

bc. sudo yum install epel-release

h3. Install the Bloonix repository

bc. sudo rpm -ivh https://download.bloonix.de/repos/centos/7/noarch/bloonix-release-0.5-1.el7.centos.noarch.rpm

h3. Install the Elasticsearch repository

bc. sudo rpm --import https://packages.elasticsearch.org/GPG-KEY-elasticsearch
sudo vim /etc/yum.repos.d/elasticsearch.repo

p. Insert:

bc. [elasticsearch-1.4]
name=Elasticsearch repository for 1.4.x packages
baseurl=http://packages.elasticsearch.org/elasticsearch/1.4/centos
gpgcheck=1
gpgkey=http://packages.elasticsearch.org/GPG-KEY-elasticsearch
enabled=1

h3. Package installation

bc. sudo yum install \
    nginx \
    mariadb-server \
    elasticsearch \
    java-1.7.0-openjdk \
    bloonix-webgui \
    bloonix-server \
    bloonix-agent \
    bloonix-plugins-basic \
    bloonix-plugins-linux

h3. Init MariaDB

bc. sudo systemctl start mariadb
mysql_secure_installation

h3. Nginx

p. Create the configuration file __/etc/nginx/conf.d/001_bloonix.conf__ with the following content:

bc. include /etc/bloonix/webgui/nginx.conf;

p. or just execute the following command:

bc. sudo echo "include /etc/bloonix/webgui/nginx.conf;" >/etc/nginx/conf.d/001_bloonix.conf

h3. Start Elasticsearch and Nginx

bc. sudo systemctl start elasticsearch.service
sudo systemctl start nginx.service

h3. Init Bloonix template for Elasticsearch

bc. sudo /srv/bloonix/webgui/schema/init-elasticsearch localhost:9200

h3. Init Bloonix schema for MariaDB

bc. sudo /srv/bloonix/webgui/schema/init-database --mysql

h3. Plugin meta data

p. After the database were successfully initiated and is running, you can install the package __bloonix__plugin_config__ that imports the plugin meta data into the database:

bc. sudo yum install bloonix-plugin-config

h3. Configure the agent

p. Edit the configuration of the Bloonix Agent and configure the section __server__:

bc. sudo vim /etc/bloonix/agent/main.conf

p. Set in section server{}:

==
<pre><code># Bloonix-Server hostname (demo.bloonix.org is just an example)
host demo.bloonix.org

# If you use a self signed certificate, then you have
# to turn off certificate validation
ssl_verify_mode none
</code></pre>
==

h3. Start all Bloonix services

bc. sudo systemctl start bloonix-webgui.service
sudo systemctl start bloonix-server.service
sudo systemctl start bloonix-srvchk.service
sudo systemctl start bloonix-agent.service

h3. Start all services automatically at system boot

bc. sudo systemctl enable bloonix-webgui.service
sudo systemctl enable bloonix-server.service
sudo systemctl enable bloonix-srvchk.service
sudo systemctl enable bloonix-agent.service
sudo systemctl enable mariadb
sudo systemctl enable nginx

h3. Ready to rumble

p. Done! :-) Now you can login into the WebGUI. The initial username and password is __admin/admin__
