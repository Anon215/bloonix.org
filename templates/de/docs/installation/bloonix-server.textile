h1. Bloonix-Server

h2. Installation

p. Die Installation des Bloonix-Servers ist sehr einfach.

bc.. # Debian
apt-get install bloonix-server

bc.. # Red Hat / CentOS / Fedora
yum install bloonix-server

bc.. # SuSE / SLES
zypper install bloonix-server

p. _Bitte installieren Sie das Paket erst, wenn Sie Nginx installiert haben, da ansonsten wichtige Konfigurationsdateien nicht angelegt werden!_

p. Die Konfigurationdatei des Bloonix-Servers lautet

bc.. /etc/bloonix/server/main.conf

p. und ist sehr gut dokumentiert. Editieren Sie die Konfiguration des Servers und tragen dort das _Passwort_ zur Datenbank ein:

p. Der Bloonix-Server wird über ein Init-Skript gestartet und gestoppt.

bc.. /etc/init.d/bloonix-server start
# oder
systemctl start bloonix-server.service

p. *Achtung:* bevor der Bloonix-Server gestartet wird, sollte das Datenbankschema und das Template für Elasticsearch angelegt sein. Die Installation dieser Komponenten wird mit der Installtion der Bloonix-WebGUI durchgeführt.

h2. Nginx konfigurieren

p. Da der Bloonix-Server als externe FastCGI Applikation läuft, ist es notwendig, Nginx als Reverse-Proxy einzurichten.

p. Die Konfiguration kann in der folgenden Datei eingerichtet werden:

bc.. /etc/nginx/conf.d/bloonix-server.conf

p. Die Konfiguration:

bc.. server {
    listen 8443;
    server_name bloonix-server;

    access_log /var/log/nginx/bloonix-server.access.log;
    error_log /var/log/nginx/bloonix-server.error.log;

    location / {
        expires off;
        include /etc/nginx/fastcgi_params;
        root /srv/bloonix/server;
        fastcgi_pass 127.0.0.1:9001;
    }

    ssl on;
    ssl_certificate /etc/nginx/ssl/server.crt;
    ssl_certificate_key /etc/nginx/ssl/server.key;
}

p. Der Paramter __server_name__ sollte noch angepasst werden. Es muss ebenfalls ein SSL-Zertifikat generiert werden, falls noch keines vorhanden ist:

bc.. mkdir /etc/nginx/ssl
cd /etc/nginx/ssl
openssl req -new -x509 -nodes -out server.crt -keyout server.key

p. _Portnummer:_ Der Bloonix-Server kann auch auf den Standardport für HTTPS eingerichtet werden.

h1. Bloonix-Server starten

p. Der Bloonix-Server kann wie folgt gestartet werden:

bc.. /etc/init.d/bloonix-server start
# oder
systemctl start bloonix-server.service

h1. Der Bloonix-Service-Checker

p. Mit der Installation des Bloonix-Servers wird auch ein Dienst namens Service-Checker installiert.

p. Dieser Dienst ist dafür zuständig, Hosts und Services zu prüfen, dessen Überwachung auf einen Timeout gelaufen ist. Das bedeutet, dass wenn zum Beispiel die CPU-Auslastung eines Servers seit mehreren Minuten nicht mehr überprüft wurde, so wird der Service-Checker einen kritischen Status für den Service liefern.

p. Die Konfigurationsdatei des Service-Checkers lautet:

bc.. /etc/bloonix/srvchk/main.conf

p. Der Service-Checker muss nebst dem Bloonix-Server gestartet werden:

bc.. /etc/init.d/bloonix-srvchk start
# oder
systemctl start bloonix-srvchk.service

